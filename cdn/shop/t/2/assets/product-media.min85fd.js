(()=>{var e,t={4558:(e,t,i)=>{"use strict";i.d(t,{gM:()=>o});var s=i(8971);i(9280);window.MinimogEvents=window.MinimogEvents||new s.Z,window._ThemeEvent=window.MinimogEvents,window.MinimogLibs.loadjs=__loadjs;window.MinimogEvents,window.MinimogTheme,window.MinimogSettings,window.MinimogStrings;const o=window.MinimogLibs||{}},9280:()=>{__loadjs=function(){var e=function(){},t={},i={},s={};function o(e,t){if(e){var o=s[e];if(i[e]=t,o)for(;o.length;)o[0](e,t),o.splice(0,1)}}function a(t,i){t.call&&(t={success:t}),i.length?(t.error||e)(i):(t.success||e)(t)}function r(t,i,s,o){var a,n,d=document,l=s.async,c=(s.numRetries||0)+1,h=s.before||e,u=t.replace(/[\?|#].*$/,""),p=t.replace(/^(css|img)!/,"");o=o||0,/(^css!|\.css$)/.test(u)?((n=d.createElement("link")).rel="stylesheet",n.href=p,(a="hideFocus"in n)&&n.relList&&(a=0,n.rel="preload",n.as="style")):/(^img!|\.(png|gif|jpg|svg|webp)$)/.test(u)?(n=d.createElement("img")).src=p:((n=d.createElement("script")).src=t,n.async=void 0===l||l),!(n.onload=n.onerror=n.onbeforeload=function(e){var d=e.type[0];if(a)try{n.sheet.cssText.length||(d="e")}catch(e){18!=e.code&&(d="e")}if("e"==d){if((o+=1)<c)return r(t,i,s,o)}else if("preload"==n.rel&&"style"==n.as)return n.rel="stylesheet";i(t,d,e.defaultPrevented)})!==h(t,n)&&d.head.appendChild(n)}function n(e,i,s){var n,d;if(i&&i.trim&&(n=i),d=(n?s:i)||{},n){if(n in t)throw"LoadJS";t[n]=!0}function l(t,i){!function(e,t,i){var s,o,a=(e=e.push?e:[e]).length,n=a,d=[];for(s=function(e,i,s){if("e"==i&&d.push(e),"b"==i){if(!s)return;d.push(e)}--a||t(d)},o=0;o<n;o++)r(e[o],s,i)}(e,(function(e){a(d,e),t&&a({success:t,error:i},e),o(n,e)}),d)}if(d.returnPromise)return new Promise(l);l()}return n.ready=function(e,t){return function(e,t){e=e.push?e:[e];var o,a,r,n=[],d=e.length,l=d;for(o=function(e,i){i.length&&n.push(e),--l||t(n)};d--;)a=e[d],(r=i[a])?o(a,r):(s[a]=s[a]||[]).push(o)}(e,(function(e){a(t,e)})),n},n.done=function(e){o(e,[])},n.reset=function(){t={},i={},s={}},n.isDefined=function(e){return e in t},n}()},8971:(e,t,i)=>{"use strict";i.d(t,{Z:()=>s});class s{constructor(){this.events={}}get evts(){return Object.keys(this.events)}subscribe(e,t){return this.events[e]=this.events[e]||[],this.events[e].push(t),()=>this.unSubscribe(e,t)}unSubscribe(e,t){const i=this.events[e];if(i&&Array.isArray(i))for(let e=0;e<i.length;e++)if(i[e]===t){i.splice(e,1);break}}emit(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),s=1;s<t;s++)i[s-1]=arguments[s];(this.events[e]||[]).forEach((e=>{e(...i)}))}}}},i={};function s(e){var o=i[e];if(void 0!==o)return o.exports;var a=i[e]={exports:{}};return t[e](a,a.exports,s),a.exports}s.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return s.d(t,{a:t}),t},s.d=(e,t)=>{for(var i in t)s.o(t,i)&&!s.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),e=s(4558).gM,customElements.get("media-gallery")||customElements.define("media-gallery",class extends HTMLElement{constructor(){super(),this.selectors={container:".sf-product-wrapper",slider:".swiper-container",sliderPagination:".swiper-pagination",sliderPrevEl:".swiper-button-prev",sliderNextEl:".swiper-button-next",navSlider:".nav-swiper-container",medias:[".sf-prod-media-item"],mediaWrapper:".sf-prod-media__wrapper",mediaZoomIns:[".sf-prod-media__zoom-in"],videos:[".media-video"],productBlock:".sf-prod__block",variantIdNode:'.main-product-form [name="id"]',featuredImage:".sf-prod-media"}}connectedCallback(){this.container=this.closest(this.selectors.container),this.domNodes=queryDomNodes(this.selectors,this),this.enableVideoAutoplay="true"===this.dataset.enableVideoAutoplay,this.enableImageZoom="true"===this.dataset.enableImageZoom,this.enableVariantGroupImages="true"===this.dataset.enableVariantGroupImages,this.onlyMedia="true"===this.dataset.onlyMedia,this.closest(".sf-prod__block")&&(this.view=this.closest(".sf-prod__block").dataset.view||"product-template"),this.section=this.closest(`[data-section-id="${this.sectionId}"]`),this.layout=this.dataset.layout,this.setupData()}async setupData(){this.productHandle=this.dataset.productHandle,this.productUrl=this.dataset.productUrl,this.productData=await this.getProductJson(this.productUrl);const{productData:e,productData:{variants:t}={}}=this,i=this.container.querySelector(this.selectors.variantIdNode);if(e&&i){let s=Number(i.value);s||(s=e.selected_or_first_available_variant.id);const o=t.find((e=>e.id===s))||t[0];this.productData.initialVariant=o,!this.productData.selected_variant&&i.dataset.selectedVariant&&(this.productData.selected_variant=t.find((e=>e.id===Number(i.dataset.selectedVariant))))}this.init()}init(){const e=this.container.querySelector("variant-picker");switch(this.view){case"product-template":this.handlePhotoswipe(),this.initPhotoswipe(),this.initSlider(),"slider"!==this.mediaMode&&(this.mediaMode="gallery");break;case"featured-product":this.initSlider();break;case"card":case"sticky-atc":this.mediaMode="featured-image";break;case"quick-view":this.mediaMode="featured-image",this.initSlider()}this.handleAutoplayVideo(),e||(this.initPhotoswipe(),this.handleSlideChange(),this.removeAttribute("data-media-loading"),this.firstElementChild.style.opacity=1)}initSlider(){if(!this.domNodes.slider)return;this.mediaMode="slider";const{domNodes:{slider:t,sliderPagination:i,navSlider:s,sliderNextEl:o,sliderPrevEl:a}}=this;let r=0,n={},d={};var l,c;this.productData.initialVariant&&this.productData.selected_variant&&(r=(null===(l=this.productData.initialVariant)||void 0===l||null===(c=l.featured_media)||void 0===c?void 0:c.position)-1||0),n={loop:!1,initialSlide:r,slidesPerView:5,freeMode:!0,spaceBetween:10,threshold:2,watchSlidesVisibility:!0,watchSlidesProgress:!0,direction:"layout-6"===this.layout?"vertical":"horizontal",on:{init:()=>s.style.opacity=1}},this.navSlider=s?new e.Swiper(s,n):null;const h=this.navSlider?{thumbs:{swiper:this.navSlider}}:{};d=Object.assign({},getProductSliderConfig(this.layout),{initialSlide:r,autoHeight:!0,navigation:{nextEl:o,prevEl:a},threshold:2,loop:!this.enableVariantGroupImages,pagination:{el:i,clickable:!0,type:"bullets"},...h,on:{init:()=>{t.style.opacity=1,this.domNodes=queryDomNodes(this.selectors,this.container)}}}),this.slider=new e.Swiper(t,d),this.enableVariantGroupImages||this.handleSlideChange()}handleSlideChange(){if(!this.slider)return;let e=!0,t="",i=[];this.slider.on("slideChange",(s=>{window.pauseAllMedia();try{const{slides:o,activeIndex:a}=s;o[a]&&this.playActiveMedia(o[a]),i=[a],"layout-5"!==this.layout&&"layout-7"!==this.layout||i.push(a+1);for(let e of i){const i=o[e];if(t=null==i?void 0:i.dataset.mediaType,"model"===t)break}"model"===t?(this.slider.allowTouchMove=!1,e=!1):(e||(this.slider.allowTouchMove=!0),e=!0)}catch(e){}}))}handleAutoplayVideo(){if("slider"===this.mediaMode){const{slides:e,activeIndex:t}=this.slider,i=e[t],s=null==i?void 0:i.dataset.mediaType;if("video"===s||"external_video"==s){const e=i.querySelector("deferred-media"),t="true"===e.dataset.autoPlay;e&&t&&e.loadContent(!1)}}else{const e=this.querySelectorAll(".sf-prod-media-item");e&&e.forEach((e=>{const t=e.dataset.mediaType;if("video"===t||"external_video"===t){const t=e.querySelector("deferred-media"),i="true"===t.dataset.autoPlay;t&&i&&t.loadContent(!1)}}))}}playActiveMedia(e){const t=e.querySelector("deferred-media");if(t&&"true"===t.dataset.autoPlay)if(t.getAttribute("loaded")){const e=t.querySelector("video, model-viewer, iframe");if(e.classList.contains("js-youtube")){const t=e.src.indexOf("?")>-1?"&":"?";e.src+=t+"autoplay=1&mute=1"}else if(e.classList.contains("js-vimeo")){const t=e.src.indexOf("?")>-1?"&":"?";e.src+=t+"autoplay=1&muted=1"}else e.play()}else t.loadContent(!1)}handlePhotoswipe(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(!this.enableImageZoom)return;const i=[],s=this.querySelectorAll(".sf-prod-media-item:not(.swiper-slide-duplicate)");s&&s.forEach(((e,t)=>{if("image"===e.dataset.mediaType){const t=e.querySelector(".sf-prod-media").dataset;i.push({src:t.mediaSrc,width:parseInt(t.mediaWidth),height:parseInt(t.mediaHeight),alt:t.mediaAlt,id:e.dataset.index})}else i.push({html:`<div class="pswp__${e.dataset.mediaType}">${e.innerHTML}</div>`,type:e.dataset.mediaType,id:e.dataset.index})})),this.lightbox=new e.PhotoSwipeLightbox({dataSource:t.length>0?t:i,bgOpacity:1,close:!1,zoom:!1,arrowNext:!1,arrowPrev:!1,counter:!1,preloader:!1,pswpModule:e.PhotoSwipeLightbox.PhotoSwipe}),this.lightbox.addFilter("thumbEl",((e,t,i)=>{const s=this.querySelector('[data-index="'+t.id+'"]:not(.swiper-slide-duplicate) img');return s||e})),this.lightbox.addFilter("placeholderSrc",((e,t)=>{const i=this.querySelector('[data-index="'+t.data.id+'"]:not(.swiper-slide-duplicate) img');return i?i.src:e})),this.lightbox.on("change",(()=>{if(window.pauseAllMedia(),this.slider){const e=this.lightbox.pswp.currIndex;this.enableVariantGroupImages?this.slider.slideTo(e,100,!1):this.slider.slideToLoop(e,100,!1)}})),this.lightbox.on("pointerDown",(e=>{"model"===this.lightbox.pswp.currSlide.data.type&&e.preventDefault()}));const o={name:"m-close",order:11,isButton:!0,html:'<svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg>',onClick:(e,t,i)=>{i.close()}},a={name:"m-arrowNext",className:"sf-pswp-button--arrow-next",order:12,isButton:!0,html:'<svg fill="currentColor" width="14px" height="14px" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M218.101 38.101L198.302 57.9c-4.686 4.686-4.686 12.284 0 16.971L353.432 230H12c-6.627 0-12 5.373-12 12v28c0 6.627 5.373 12 12 12h341.432l-155.13 155.13c-4.686 4.686-4.686 12.284 0 16.971l19.799 19.799c4.686 4.686 12.284 4.686 16.971 0l209.414-209.414c4.686-4.686 4.686-12.284 0-16.971L235.071 38.101c-4.686-4.687-12.284-4.687-16.97 0z"></path></svg>',onClick:(e,t,i)=>{i.next()}},r={name:"m-arrowPrev",className:"sf-pswp-button--arrow-prev",order:10,isButton:!0,html:'<svg width="14px" height="14px" fill="currentColor" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M229.9 473.899l19.799-19.799c4.686-4.686 4.686-12.284 0-16.971L94.569 282H436c6.627 0 12-5.373 12-12v-28c0-6.627-5.373-12-12-12H94.569l155.13-155.13c4.686-4.686 4.686-12.284 0-16.971L229.9 38.101c-4.686-4.686-12.284-4.686-16.971 0L3.515 247.515c-4.686 4.686-4.686 12.284 0 16.971L212.929 473.9c4.686 4.686 12.284 4.686 16.971-.001z"></path></svg>',onClick:(e,t,i)=>{i.prev()}};this.lightbox.on("uiRegister",(()=>{this.lightbox.pswp.ui.registerElement(o),this.onlyMedia||(this.lightbox.pswp.ui.registerElement(r),this.lightbox.pswp.ui.registerElement(a))}))}initPhotoswipe(){this.enableImageZoom&&(this.lightbox.init(),addEventDelegate({selector:this.selectors.medias[0],context:this,handler:(e,t)=>{e.preventDefault();const i=t.classList.contains("media-type-image"),s=e.target.closest(this.selectors.mediaZoomIns[0]);if(i||s){const e=Number(t.dataset.index)||0;this.lightbox.loadAndOpen(e)}}}))}setActiveMedia(e){if(e)if("slider"===this.mediaMode){if(e.featured_media){const t=e.featured_media.position||0;this.slider&&this.slider.wrapperEl&&this.slider.slideToLoop(t-1)}}else if("featured-image"===this.mediaMode){if(e.featured_image){const t=e.featured_image.src,{featuredImage:i}=this.domNodes,s=i.querySelector("img");s&&t&&(s.src=t)}}else if("featured-product"!=this.view&&e.featured_media){const t=this.querySelector(`[data-media-id="${e.featured_media.id}"]`);t&&this.scrollIntoView(t)}}scrollIntoView(e){e.scrollIntoView({behavior:"smooth"})}getProductJson(e){return fetch(e+".js").then((function(e){return e.json()}))}})})();